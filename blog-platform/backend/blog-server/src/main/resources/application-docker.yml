# Docker 环境配置
server:
  port: 8080
  # 配置请求大小限制（用于文件上传）
  servlet:
    context-path: /
  tomcat:
    max-swallow-size: 100MB

spring:
  application:
    name: blog-server
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: ${SPRING_DATASOURCE_URL:jdbc:mysql://db:3306/blogplatform?serverTimezone=GMT%2B8&useUnicode=true&characterEncoding=utf8&autoReconnect=true&allowMultiQueries=true&useSSL=false&allowPublicKeyRetrieval=true}
    username: ${SPRING_DATASOURCE_USERNAME:blog_user}
    password: ${SPRING_DATASOURCE_PASSWORD:blog_password_2024}
  data:
    redis:
      database: ${SPRING_DATA_REDIS_DATABASE:3}
      host: ${SPRING_DATA_REDIS_HOST:redis}
      port: ${SPRING_DATA_REDIS_PORT:6379}
  servlet:
    multipart:
      enabled: true
      max-file-size: 50MB
      max-request-size: 100MB

mybatis:
  mapper-locations: classpath:com/example/mapper/*.xml
  configuration:
    map-underscore-to-camel-case: true

sky:
  jwt:
    # jwt签名加密密钥
    secret-key: ${JWT_SECRET_KEY:blog-platform-jwt-secret-key-2024}
    # jwt过期时间 (12小时)
    ttl: 43200000
    # 前端传递令牌名称
    token-name: token
    data-name: data

# 应用配置
app:
  upload:
    path: /app/uploads

# 阿里云 OSS 配置
aliyun:
  oss:
    endpoint: ${ALIYUN_OSS_ENDPOINT:https://oss-cn-beijing.aliyuncs.com}
    accessKeyId: ${ALIYUN_OSS_ACCESS_KEY_ID:}
    accessKeySecret: ${ALIYUN_OSS_ACCESS_KEY_SECRET:}
    bucketName: ${ALIYUN_OSS_BUCKET_NAME:}
    region: ${ALIYUN_OSS_REGION:cn-beijing}

# 日志配置
logging:
  level:
    root: INFO
    com.example: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
